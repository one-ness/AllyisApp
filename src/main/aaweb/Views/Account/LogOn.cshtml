@using AllyisApps.ViewModels
@model LogOnViewModel
@{
    Layout = "~/Views/Shared/_LayoutJustAForm.cshtml";
    ViewBag.Title = AllyisApps.Resources.Views.Account.Strings.SignIn;
}

@using (Html.BeginForm("LogOn", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, string.Empty, new { @class = "text-danger" })
    <div class="form-group">
        @Html.Label(AllyisApps.Resources.Views.Account.Strings.Email)
        @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Email, string.Empty, new { @class = "text-danger" })
    </div>
    <div class="form-group">
        @Html.Label(AllyisApps.Resources.Views.Account.Strings.Password)
        @Html.PasswordFor(m => m.Password, new { @class = "form-control", @onkeypress = "capsCheck(event)", @onkeydown = "capsCheck(event)" })
        @Html.ValidationMessageFor(m => m.Password, string.Empty, new { @class = "text-danger" })
        <strong id="capsWarningDiv" style="visibility:hidden">@AllyisApps.Resources.Views.Account.Strings.CapsLock</strong>
    </div>
    <div class="checkbox pull-left">
        @Html.CheckBoxFor(m => m.RememberMe, new { id=Html.NameFor(m=>m.RememberMe), style="margin-left: 0px"})
        <label for="@Html.NameFor(m=>m.RememberMe)"> @AllyisApps.Resources.Views.Account.Strings.RememberMe </label>
    </div>
    <div class="form-group allyis-action-buttons">
        <p>
            <input type="submit" value="@AllyisApps.Resources.Views.Account.Strings.SignIn" class="btn btn-primary" />
        </p>
        <p>
            @Html.ActionLink(AllyisApps.Resources.Views.Account.Strings.RegisterLinkText, "Register", new { ReturnUrl = ViewBag.ReturnUrl })
        </p>
        <p>
            @Html.ActionLink(AllyisApps.Resources.Views.Account.Strings.ForgotPasswordViewTitle, "ForgotPassword")
        </p>
    </div>
}
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")


    <script type="text/javascript">
        function capsCheck(e) {
            
            kc = e.keyCode ? e.keyCode : e.which;
            sk = e.shiftKey ? e.shiftKey : ((kc == 16) ? true : false);
            if ((kc != 20 && kc < 65) || kc > 122) { return; }
            if(((kc >= 65 && kc <= 90) && !sk)||((kc >= 97 && kc <= 122) && sk)){
                document.getElementById('capsWarningDiv').style.visibility = 'visible';
            } 
            else document.getElementById('capsWarningDiv').style.visibility = 'hidden';
        }
     </script>
}