@using AllyisApps.ViewModels.Shared;

@model Tuple<List<LanguageViewModel>, int>

@{
    Layout = string.Empty;
}

@*<footer class="footer">
    <div class="container-fluid text-center text-muted">*@
<div class="footer container" style="max-height:55px">
    <div class="row">
        <p class="footer-links col-xs-8 col-sm-6">
            <select class="col-xs-12 col-sm-6 form-control" id="languageSelect" onchange="OnLanguageSelect()" value=@ViewBag.language style="width: inherit;">
                @foreach (LanguageViewModel language in Model.Item1)
            {
                string languageKey = LanguageViewModel.Clean(language.LanguageName);

                if (ViewBag.languageName == language.LanguageName)
                {
                        <option value="@language.LanguageID" selected>@(Strings.ResourceManager.GetString(languageKey) ?? language.LanguageName)</option>
                    }
                    else
                    {
                        <option value="@language.LanguageID">@(Strings.ResourceManager.GetString(languageKey) ?? language.LanguageName)</option>
                    }
                }
            </select>
            <span class="col-xs-12 col-sm-6 footer-text">
                @Html.ActionLink(Strings.PrivacyPolicy, ActionConstants.PrivacyPolicy, ControllerConstants.Home)
                @Html.ActionLink(Strings.Help, ActionConstants.Help, ControllerConstants.Home)
            </span>
        </p>
        <p class="col-xs-4 col-sm-6 footer-text" style="text-align: right">
            &copy; @DateTime.Now.Year - Allyis, Inc.
        </p>
    </div>
</div>

    @*</div>
</footer>*@

<script type="text/javascript">
    OnLanguageSelect = function () {
        window.location.href = "@Url.SubdomainLink(ActionConstants.UpdateLanguage, ControllerConstants.Shared, null, Model.Item2, this.Request)".replace(/&amp;/g, "&") + "&languageID=" + $('#languageSelect').val();
    }
</script>
