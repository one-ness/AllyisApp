@using AllyisApps.ViewModels.Auth;

@model SubscriptionDisplayViewModel
@*TODO: Currently mentions of pricing are commented out. When pricing is properly implemented, restore these mentions.
	Also remove the damn hardcoded "free users" numbers.*@
@{
	ViewBag.Title = Strings.Subscriptions;
	ViewBag.ShowAll = true;
	string userDisplay = string.Empty;
	string price = string.Empty;
	if (Model.Info != null)
	{
		userDisplay = string.Format("{0}/{1} {2}", Model.Info.SubscriptionsUsed, Model.Info.NumberOfUsers, Strings.Users);
		// price = (Model.Info.NumberOfUsers - 500) <= 0 ? Strings.Free : (Model.Info.NumberOfUsers - 500).ToString("c");
		price = "";
	}
}

<table class="table table-striped table-sparse">
	<tr>
		<td>
			@Model.ProductName
		</td>
		@if (Model.Info != null)
		{
			<td>@userDisplay</td>
			<td class="text-right">
				@price
			</td>
			<td class="text-right icon-strip">
				@*@if (Model.CanEditSubscriptions)
					{*@
				<a href="@Url.Action(ActionConstants.EditSubscription, ControllerConstants.Account, new { id = Model.Info.SubscriptionId })"
				   class="text-muted" title="@Strings.EditSubscription"><span class="fa fa-fw fa-dollar text-success"></span></a>
			</td>
		}
		else
		{
			<td class="text-right">
				@Html.ActionLink(Strings.Subscribe, ActionConstants.Subscribe, ControllerConstants.Account, new { id = Model.OrganizationId, productId = Model.ProductId }, null)
			</td>
		}
	</tr>
</table>
