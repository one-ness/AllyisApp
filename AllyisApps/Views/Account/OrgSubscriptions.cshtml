@model OrganizationSubscriptionsViewModel
@{
	var sb = new System.Text.StringBuilder();
	sb.Append(Strings.Subscriptions);
	sb.Append(": ");
	sb.Append(Model.OrganizationName);
	ViewBag.TitleBar = sb.ToString();
}

<div class="container">
	<div class="row">
		<div class="col-xs-12" style="margin-bottom:5px;">
			<span class="pull-right">
				<a href="@Url.Action(ActionConstants.Skus, ControllerConstants.Account, new { id = Model.OrganizationId })" class="btn btn-default" title="Add/Upgrade Subscriptions">Add Subscriptions</a>
			</span>
		</div>
		<div class="col-xs-12" style="margin-bottom:5px;">
			@if (Model.Subscriptions.Count > 0)
			{
				<table class="table table-striped table-condensed">
					<thead>
						<tr>
							<th>Subscription name</th>
							<th>Product name</th>
							<th>Since</th>
							<th># Users</th>
							<th><i class="fa fa-lock"> Permissions</i>, <i class="fa fa-edit"> Edit</i></th>
						</tr>
					</thead>
					@foreach (var item in Model.Subscriptions)
					{
						<tr>
							<td class="col-md-3">@item.SubscriptionName</td>
							<td class="col-md-3">@item.ProductName</td>
							<td class="col-md-2">@item.FormattedSubscriptionCreatedUtc</td>
							<td class="col-md-2">@item.NumberofUsers @Strings.Users</td>
							<td class="col-md-2">
								@if (Model.CanManagePermissions)
								{
									<a href="@item.PermissionsUrl" title="@Strings.ManagePermissions" style="color:inherit"><i class="fa fa-fw fa-lock"></i></a>
								}
								@if (Model.CanEditSubscriptions)
								{
									<a href="@Url.Action(ActionConstants.EditSubscription, ControllerConstants.Account, new { @id = item.SubscriptionId })" title="@Strings.EditSubscription" style="color:inherit"><i class="fa fa-fw fa-edit"></i></a>
								}
							</td>
						</tr>
					}
					<tr>
						<td>
							<a href="@Url.Action(ActionConstants.Skus, ControllerConstants.Account, new { id = Model.OrganizationId })" title="Add/Upgrade Subscriptions" style="text-decoration: underline"><em>Add Subscriptions</em></a>
						</td>
						<td></td><td></td><td></td><td></td>
					</tr>
				</table>
			}
			else
			{
				<h1>No Subscriptions</h1>
				<p><i>You have not subscribed to any of our products yet.</i></p>
				<p><i>Please click on add subscriptions button to subscribe to our products.</i></p>
			}
		</div>
		<div class="col-xs-12" style="margin-bottom:5px;">
			<a href="@Url.Action(ActionConstants.Index, ControllerConstants.Account)"
				class="btn btn-default pull-left" title="@Strings.Back"><i class="fa fa-caret-left"></i>@Strings.Back</a>
		</div>
	</div>
</div>