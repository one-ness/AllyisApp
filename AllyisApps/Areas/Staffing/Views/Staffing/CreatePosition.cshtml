@model AllyisApps.Areas.StaffingManager.ViewModels.Staffing.EditPositionViewModel
@{
	ViewBag.Title = Strings.CreatePosition;
	Html.RenderPartial("_PositionEditDetails", Model);
	Model.IsCreating = true;
	ViewData.Add(ControllerConstants.Controller, ControllerConstants.Staffing);
	ViewData.Add(ActionConstants.Action, ActionConstants.SubmitCreatePosition);
	DisplayHints.BreadcrumbNavPartialLocation = "~/Areas/StaffingManager/Views/Shared/_BreadcrumbNavPartial.cshtml";
	DisplayHints.LayoutThemeBundle = "~/Content/StaffingManager";
	ViewBag.OrganizationId = Model.OrganizationId;
	ViewData["SubscriptionName"] = Model.SubscriptionName;
}

@section scripts
{
	@Scripts.Render("~/bundles/jquery")
	@Scripts.Render("~/bundles/jqueryval")
	@Scripts.Render("~/bundles/jqueryui")
	@Scripts.Render("~/bundles/moment")
	@Scripts.Render("~/bundles/daterangepicker")
	<script src="~/Scripts/allyis-pages-with-filter.js" type="text/javascript"></script>
	<script>
		var ddlCountriesId = "@ViewConstants.DdlCountriesId";
		var preserveState = '@(Model.PositionAddress != null && Model.PositionAddress.State != null ? (States.ResourceManager.GetString(Model.PositionAddress.State) ?? Model.PositionAddress.State) : "")';
		var dropdownempty = "@Strings.DropDownEmpty";
		var ddlStatesId = "@ViewConstants.DdlStatesId";
		var ddlStatesOptionsId = "@ViewConstants.DdlStatesOptionsId";
		var getStatesUrl = "/Home/GetStates";
		var selectedCountryCode = "@(Model.PositionAddress == null ? null : Model.PositionAddress.SelectedCountryCode)";
		var selectedStateId = "@(Model.PositionAddress == null ? null : Model.PositionAddress.SelectedStateId)";
		var mindate_shortstring = "@DateTime.Today.ToShortDateString()";
		var maxdate_shortstring = "@DateTime.MaxValue.ToShortDateString()";

		$(document).ready(function () {
			$("#StartDate").singleDatePicker();
		});

		$.fn.singleDatePicker = function() {
			$(this).on("apply.daterangepicker", function (e, picker) {
				picker.element.val(picker.startDate.format(picker.locale.format));
			});
			return $(this).daterangepicker({
				singleDatePicker: true,
				showDropdowns: true,
				autoUpdateInput: false
			});
		};
	</script>
	@Scripts.Render("~/bundles/UpdateStateDDL");
}