@using AllyisApps.ViewModels.TimeTracker.Customer;

@model ManageCustomerViewModel

<div class="flexbox-row flexbox-row-2-col-collapse">
	<div class="ovrd-panel panel panel-info" style="position: relative">
		<div class="ovrd-panel-heading panel-heading">
			<h1 class="ovrd-panel-title panel-title">@Strings.CustomerList</h1>
		</div>
		<div class="ovrd-panel-body panel-body list-group" id="Customers">
			@foreach (CustomerProjectViewModel customer in Model.Customers)
			{
				<a onclick="PopulateProjects('@customer.CustomerInfo.CustomerId')" class="list-group-item" id="@customer.CustomerInfo.CustomerId">
					<text>@customer.CustomerInfo.CustomerName</text>
				</a>
			}
		</div>
	</div>

	<div class="ovrd-panel panel ovrd-panel-info panel-info" style="position: relative">
		<div class="ovrd-panel-heading panel-heading">
			<h1 class="ovrd-panel-title panel-title">@Strings.Projects</h1>
		</div>
		<div class="ovrd-panel-body panel-body list-group" id="Projects">
			<!--active projects belong to chosen customer will be populated here-->
		</div>
	</div>
	@if ((bool)ViewData["IsManager"])
	{
		<div style="position: relative">
			<div class="pull-right">
				<button type="button" onclick="EditCustomer()" class="ovrd-btn ovrd-btn-primary btn-primary" title="Edit Customer"><i class="glyphicon glyphicon-pencil"></i></button>
				<button type="button" onclick="DeleteCustomer()" class="ovrd-btn ovrd-btn-primary btn-primary" title="Delete Customer"><i class="glyphicon glyphicon-remove"></i></button>
				<button type="button" onclick="CreateCustomer()" class="ovrd-btn ovrd-btn-primary btn-primary" title="Create Customer"><i class="glyphicon glyphicon-plus"></i></button>
			</div>
		</div>

		<div style="position: relative">
			<div class="pull-right">
				<button type="button" onclick="EditProject()" class="ovrd-btn ovrd-btn-primary btn-primary" title="Edit Project"><i class="glyphicon glyphicon-pencil"></i></button>
				<button type="button" onclick="DeleteProject()" class="ovrd-btn ovrd-btn-primary btn-primary" title="Delete Project"><i class="glyphicon glyphicon-remove"></i></button>
				<button type="button" onclick="CreateProject()" class="ovrd-btn ovrd-btn-primary btn-primary" title="Create Project"><i class="glyphicon glyphicon-plus"></i></button>
			</div>
		</div>
	}
</div>