@using AllyisApps.ViewModels.TimeTracker.TimeEntry;
@model SettingsOvertimeViewModel
@{
	ViewBag.TitleBar = Strings.Settings;
	ViewBag.Title = Strings.Overtime;
	DisplayHints.BreadcrumbNavPartialLocation = "~/Areas/TimeTracker/Views/Shared/_BreadcrumbNavPartial.cshtml";
	DisplayHints.LayoutThemeBundle = "~/Content/Timetracker";
	Layout = "~/Areas/TimeTracker/Views/Shared/_TimeTrackerSidebar.cshtml";
	ViewData["UserId"] = Model.UserId;
	ViewData["SubscriptionId"] = Model.SubscriptionId;
	ViewData["SubscriptionName"] = Model.SubscriptionName;
}

<div class="container">
	<div class="row slim">
		<div class="col-sm-2">
			@Html.Partial("_ManageSettingSideBar")
		</div>
		<div class="col-sm-10">
			<div class="panel panel-info" style="position: relative;">
				<div class="panel-heading">
					<h1 class="panel-title">@Strings.Overtime</h1>
				</div>
				<div id="Overtime" class="panel-body">
					@using (Html.BeginForm(ActionConstants.UpdateOvertime, ControllerConstants.TimeEntry, FormMethod.Post, new { enctype = "multipart/form-data" }))
					{
						@Html.AntiForgeryToken()
						@Html.HiddenFor(m => m.SubscriptionId)
						<div style="margin: 10px">
							<label>
								Use Overtime: 
								@Html.CheckBoxFor(m => m.IsOvertimeUsed)
							</label>
						</div>
						<div id="OTSettings" style="visibility: @(Model.IsOvertimeUsed ? "visible" : "hidden")">
							<div style="margin:10px">
								@Strings.After
								@Html.TextBoxFor(m => m.OvertimeHours, new { @class = "form-control", style = "width: 45px; text-align: center; display: inline-block;" })
								@Strings.HoursPer
								@Html.DropDownListFor(m => m.OvertimePeriod, new SelectList(Model.OvertimePeriodOptions, "Key", "Value"), new { @class = "form-control", style = "display: inline-block; width: 100px;" })
								<br />
							</div>
						</div>
						<div>
							<input class="btn btn-primary tt-bottom-right" type="submit" value=@Strings.Save />
						</div>
					}
				</div>
			</div>
		</div>
	</div>
</div>


@section scripts{
	<script>
		$(document).ready(function() {
			$("#IsOvertimeUsed").change(function () {
				$('#OTSettings').css('visibility', $(this).prop("checked") ? 'visible' : 'hidden');
			});
		});
	</script>
}